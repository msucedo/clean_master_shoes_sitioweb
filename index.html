<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, maximum-scale=1.0">
    <title>Clean Master Shoes - Limpieza Profesional de Calzado</title>

    <!-- PWA Meta Tags -->
    <meta name="description" content="Elegancia y cuidado profesional para tu calzado">
    <meta name="theme-color" content="#000000">
    <link rel="manifest" href="/public/manifest.json">

    <!-- iOS Meta Tags -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="Clean Master Shoes">
    <link rel="apple-touch-icon" href="/public/apple-touch-icon.png">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Lato:wght@300;400;600&display=swap" rel="stylesheet">
    <!-- GSAP Core -->
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-dark: #0a0a0a;
            --secondary-dark: #1a1a1a;
            --accent-silver: #C0C0C0;
            --accent-light: #E8E8E8;
            --text-muted: #888;
            --border-elegant: rgba(192, 192, 192, 0.2);
            --logo-pink: #E8B4D0;
        }

        html {
            overflow-x: hidden;
        }

        body {
            font-family: 'Lato', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: var(--primary-dark);
            color: var(--accent-light);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            position: relative;
        }

        /* Video Background */
        .video-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            overflow: hidden;
        }

        .video-background video {
            position: absolute;
            top: 50%;
            left: 50%;
            min-width: 100%;
            min-height: 100%;
            width: auto;
            height: auto;
            transform: translate(-50%, -50%);
            object-fit: cover;
            opacity: 0;
            filter: brightness(0.85);
        }

        /* Video Overlay */
        .video-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(10, 10, 10, 0.70);
            z-index: 1;
            opacity: 1;
        }

        /* Elegant background texture (over overlay) */
        .background-texture {
            position: fixed;
            width: 100%;
            height: 100%;
            background:
                radial-gradient(circle at 20% 50%, rgba(192, 192, 192, 0.03) 0%, transparent 50%),
                radial-gradient(circle at 80% 30%, rgba(192, 192, 192, 0.02) 0%, transparent 50%);
            pointer-events: none;
            z-index: 2;
        }

        .container {
            text-align: center;
            z-index: 10;
            max-width: 800px;
            padding: 40px;
            position: relative;
        }

        /* Decorative top border */
        .container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 2px;
        }

        .logo {
            width: 180px;
            height: auto;
            display: block;
            margin: 0 auto 40px;
            filter: drop-shadow(0 0 20px rgba(192, 192, 192, 0.3));
            opacity: 0;
        }

        .brand-name {
            font-family: 'Playfair Display', serif;
            font-size: 56px;
            font-weight: 700;
            margin-bottom: 20px;
            color: var(--accent-light);
            letter-spacing: 4px;
            text-transform: uppercase;
            opacity: 0;
            position: relative;
            display: inline-block;
        }

        .brand-name::after {
            content: '';
            position: absolute;
            bottom: -15px;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 1px;
            background: var(--accent-silver);
            box-shadow: 0 0 10px rgba(192, 192, 192, 0.5);
        }

        .tagline {
            font-size: 18px;
            color: var(--text-muted);
            margin-bottom: 50px;
            margin-top: 30px;
            font-weight: 300;
            letter-spacing: 1px;
            opacity: 0;
        }

        .cta-link {
            position: relative;
            display: inline-block;
            padding: 18px 60px;
            margin: 80px 0 30px 0;
            border: 1px solid var(--logo-pink);
            background: transparent;
            color: var(--logo-pink);
            text-decoration: none;
            font-size: 14px;
            font-weight: 600;
            letter-spacing: 2px;
            text-transform: uppercase;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            overflow: hidden;
            opacity: 0;
        }

        .cta-link::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: var(--logo-pink);
            transition: left 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: -1;
        }

        .cta-link:hover,
        .cta-link.active {
            color: var(--primary-dark);
            border-color: var(--logo-pink);
            box-shadow: 0 5px 30px rgba(232, 180, 208, 0.5);
            transform: translateY(-2px);
        }

        .cta-link:hover::before,
        .cta-link.active::before {
            left: 0;
        }

        .divider {
            width: 200px;
            height: 1px;
            background: linear-gradient(90deg, transparent, var(--border-elegant), transparent);
            margin: 50px auto 30px;
            opacity: 0;
        }

        .contact-info {
            font-size: 14px;
            color: var(--text-muted);
            margin-top: 40px;
            opacity: 0;
        }

        .contact-info p {
            margin: 8px 0;
        }

        .contact-info a {
            color: var(--accent-silver);
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .contact-info a:hover {
            color: var(--accent-light);
        }

        /* Elegant corner decorations */
        .corner-decoration {
            position: fixed;
            width: 120px;
            height: 120px;
            pointer-events: none;
            opacity: 0.3;
            z-index: 5;
        }

        .corner-decoration::before,
        .corner-decoration::after {
            content: '';
            position: absolute;
            background: var(--border-elegant);
        }

        .corner-decoration.top-left {
            top: 30px;
            left: 30px;
        }

        .corner-decoration.top-left::before {
            top: 0;
            left: 0;
            width: 60px;
            height: 1px;
        }

        .corner-decoration.top-left::after {
            top: 0;
            left: 0;
            width: 1px;
            height: 60px;
        }

        .corner-decoration.bottom-right {
            bottom: 30px;
            right: 30px;
        }

        .corner-decoration.bottom-right::before {
            bottom: 0;
            right: 0;
            width: 60px;
            height: 1px;
        }

        .corner-decoration.bottom-right::after {
            bottom: 0;
            right: 0;
            width: 1px;
            height: 60px;
        }

        /* Mobile responsive */
        @media (max-width: 768px) {
            .container {
                padding: 30px 20px;
            }

            .logo {
                width: 140px;
            }

            .brand-name {
                font-size: 36px;
                letter-spacing: 2px;
            }

            .tagline {
                font-size: 16px;
            }

            .cta-link {
                padding: 16px 40px;
                font-size: 12px;
            }

            .corner-decoration {
                width: 80px;
                height: 80px;
            }

            .corner-decoration.top-left::before,
            .corner-decoration.bottom-right::before {
                width: 40px;
            }

            .corner-decoration.top-left::after,
            .corner-decoration.bottom-right::after {
                height: 40px;
            }

            /* Keep video visible on mobile */
            .video-overlay {
                background: rgba(10, 10, 10, 0.75);
            }
        }
    </style>
</head>
<body>
    <!-- Video Background -->
    <div class="video-background">
        <video id="bgVideo" autoplay muted loop playsinline>
            <source src="public/videos/mainvideo.mp4" type="video/mp4">
            <!-- Fallback for browsers that don't support video -->
        </video>
    </div>

    <!-- Video Overlay -->
    <div class="video-overlay" id="videoOverlay"></div>

    <!-- Background Texture -->
    <div class="background-texture"></div>

    <!-- Elegant corner decorations -->
    <div class="corner-decoration top-left"></div>
    <div class="corner-decoration bottom-right"></div>

    <div class="container">
        <img src="public/logo.png" alt="Clean Master Shoes" class="logo" id="logo">

        <p class="tagline" id="tagline">Elegancia y cuidado profesional para tu calzado</p>

        <a href="site.html" class="cta-link" id="ctaLink">Descubrir más</a>
    </div>

    <script>
        // Wait for DOM and video to be ready
        document.addEventListener('DOMContentLoaded', function() {
            const video = document.getElementById('bgVideo');
            const overlay = document.getElementById('videoOverlay');
            const logo = document.getElementById('logo');
            const brandName = document.getElementById('brandName');
            const tagline = document.getElementById('tagline');
            const ctaLink = document.getElementById('ctaLink');
            const divider = document.getElementById('divider');

            // Set initial states
            gsap.set(video, { scale: 1.1, opacity: 0 });
            // Overlay starts visible to prevent white flash
            gsap.set(overlay, { opacity: 1 });
            gsap.set([logo, brandName, tagline, ctaLink, divider], {
                opacity: 0,
                y: 30
            });

            // Create master timeline
            const masterTimeline = gsap.timeline({
                defaults: {
                    ease: "power3.out"
                }
            });

            // Video entrance animation (fade in + zoom out)
            // Overlay is already visible, only animate the video
            masterTimeline.to(video, {
                opacity: 0.75,
                scale: 1,
                duration: 2.5,
                ease: "power2.out"
            }, 0);

            // Content animations (staggered timeline)
            masterTimeline.to(logo, {
                opacity: 1,
                y: 0,
                duration: 1,
                ease: "power3.out"
            }, 1.2);

            masterTimeline.to(brandName, {
                opacity: 1,
                y: 0,
                duration: 1,
                ease: "power3.out"
            }, 1.5);

            masterTimeline.to(tagline, {
                opacity: 1,
                y: 0,
                duration: 1,
                ease: "power3.out"
            }, 1.8);

            masterTimeline.to(ctaLink, {
                opacity: 1,
                y: 0,
                duration: 1,
                ease: "power3.out"
            }, 2.1);

            masterTimeline.to(divider, {
                opacity: 1,
                duration: 0.8,
                ease: "power2.out"
            }, 2.3);

            // Optional: Pause video if page is hidden (performance optimization)
            document.addEventListener('visibilitychange', function() {
                if (document.hidden) {
                    video.pause();
                } else {
                    video.play();
                }
            });

            // Error handling for video
            video.addEventListener('error', function() {
                console.warn('Video failed to load, using fallback background');
                // Fallback: just show the overlay with dark background
                gsap.to(overlay, { opacity: 1, duration: 1 });
                // Continue with content animations
                masterTimeline.play();
            });
        });

        // Register Service Worker for PWA functionality
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js')
                    .then((registration) => {
                        console.log('Service Worker registrado con éxito:', registration.scope);
                    })
                    .catch((error) => {
                        console.log('Error al registrar el Service Worker:', error);
                    });
            });
        }

        // Button fill animation on click
        const ctaLink = document.getElementById('ctaLink');
        if (ctaLink) {
            ctaLink.addEventListener('click', (e) => {
                e.preventDefault();
                const href = ctaLink.getAttribute('href');

                // Trigger CSS fill effect
                ctaLink.classList.add('active');

                // Navigate after animation completes
                setTimeout(() => {
                    window.location.href = href;
                }, 500);
            });
        }

    </script>
</body>
</html>
